import{j as n}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.BmW6Ki2V.js";const b=({content:c})=>{const[a,d]=o.useState([]),[g,h]=o.useState("");if(o.useEffect(()=>{const t=[],r=/^(#{2,3})\s+(.+)$/gm;let e;for(e=r.exec(c);e;){const s=e[1].length,l=e[2].trim().replace(/\*\*?(.+?)\*\*?/g,"$1"),i=l.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");t.push({id:i,text:l,level:s}),e=r.exec(c)}d(t)},[c]),o.useEffect(()=>{const t=new IntersectionObserver(r=>{const e=r.filter(s=>s.isIntersecting);if(e.length>0){const s=e.sort((l,i)=>l.boundingClientRect.top-i.boundingClientRect.top);h(s[0].target.id)}},{rootMargin:"-80px 0px -40%"});return a.forEach(({id:r})=>{const e=document.getElementById(r);e&&t.observe(e)}),()=>t.disconnect()},[a]),!a.length)return null;const m=(t,r)=>{t.preventDefault(),document.getElementById(r)?.scrollIntoView({behavior:"smooth"})};return n.jsxs("nav",{className:"sticky top-24 hidden xl:block",children:[n.jsx("div",{className:"mb-5 text-sm font-bold text-heading uppercase tracking-wider",children:"On This Page"}),n.jsx("ul",{className:"space-y-3 text-base border-l-2 border-gray-200 dark:border-white/10",children:a.map(({id:t,text:r,level:e})=>n.jsx("li",{children:n.jsx("a",{href:`#${t}`,onClick:s=>m(s,t),className:`block py-2 transition-all duration-200 border-l-2 -ml-[2px] ${e===3?"pl-7":"pl-5"} ${g===t?"border-gray-900 dark:border-white text-heading font-semibold":"border-transparent text-gray-600 dark:text-gray-400 hover:text-heading hover:border-gray-400 dark:hover:border-gray-600"}`,children:r})},t))})]})},u=o.memo(b);export{u as default};
